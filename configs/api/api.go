package api

import (
	"encoding/json"
	"fmt"
	"io/ioutil"
)

// GetAppConfig 設定を取得する
func GetAppConfig() (*AutoGenerated, error) {
	jsonBytes, err := ioutil.ReadFile("configs/api/json/api_config.json")
	if err != nil {
		return nil, fmt.Errorf("failed to ioutil.ReadFile: %s", err)
	}

	var autoGenerated AutoGenerated
	if err := json.Unmarshal(jsonBytes, &autoGenerated); err != nil {
		return nil, fmt.Errorf("failed to json.Unmarshal: %s", err)
	}

	return &autoGenerated, nil
}
